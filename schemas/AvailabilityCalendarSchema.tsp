import "./common/AvailabilityUnit.tsp";
import "./capabilities/pricing/AvailabilityCalendarPricingSchema.tsp";

const AVAILABILITY_CALENDAR_BODY_PRODUCT_ID_DOC = "The product id.";
const AVAILABILITY_CALENDAR_BODY_OPTION_ID_DOC = "The option id.";
const AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_START_DOC = "Start date to query for (YYYY-MM-DD).";
const AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_END_DOC = "End date to query for (YYYY-MM-DD).";
const AVAILABILITY_CALENDAR_BODY_UNITS_DOC = "A list of units.";

const AVAILABILITY_CALENDAR_BODY_PRODUCT_ID_EXAMPLE = PRODUCT_ID_EXAMPLE;
const AVAILABILITY_CALENDAR_BODY_OPTION_ID_EXAMPLE = OPTION_ID_EXAMPLE;
const AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_START_EXAMPLE = "2022-05-23";
const AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_END_EXAMPLE = "2022-05-29";
const AVAILABILITY_CALENDAR_BODY_UNITS_EXAMPLE = #[
  #{ id: UNIT_ID_ADULT, quantity: 2 },
  #{ id: UNIT_ID_CHILD, quantity: 1 }
];

const AVAILABILITY_CALENDAR_DATE_RANGE_BODY_EXAMPLE = #{
  productId: AVAILABILITY_CALENDAR_BODY_PRODUCT_ID_EXAMPLE,
  optionId: AVAILABILITY_CALENDAR_BODY_OPTION_ID_EXAMPLE,
  localDateStart: AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_START_EXAMPLE,
  localDateEnd: AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_END_EXAMPLE,
};

const AVAILABILITY_CALENDAR_WITH_UNITS_BODY_EXAMPLE = #{
  productId: AVAILABILITY_CALENDAR_BODY_PRODUCT_ID_EXAMPLE,
  optionId: AVAILABILITY_CALENDAR_BODY_OPTION_ID_EXAMPLE,
  localDateStart: AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_START_EXAMPLE,
  localDateEnd: AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_END_EXAMPLE,
  units: AVAILABILITY_CALENDAR_BODY_UNITS_EXAMPLE,
};


const AVAILABILITY_CALENDAR_DATE_RANGE_BODY_CURRENCY_EXAMPLE = #{
  ...AVAILABILITY_CALENDAR_DATE_RANGE_BODY_EXAMPLE,
  currency: "EUR",
};

@example(AVAILABILITY_CALENDAR_DATE_RANGE_BODY_EXAMPLE)
model AvailabilityCalendarBody {
  @doc(AVAILABILITY_CALENDAR_BODY_PRODUCT_ID_DOC)
  @example(AVAILABILITY_CALENDAR_BODY_PRODUCT_ID_EXAMPLE)
  productId: string;

  @doc(AVAILABILITY_CALENDAR_BODY_OPTION_ID_DOC)
  @example(AVAILABILITY_CALENDAR_BODY_OPTION_ID_EXAMPLE)
  optionId: string;

  @doc(AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_START_DOC)
  @example(AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_START_EXAMPLE)
  localDateStart?: string;

  @doc(AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_END_DOC)
  @example(AVAILABILITY_CALENDAR_BODY_LOCAL_DATE_END_EXAMPLE)
  localDateEnd?: string;

  @doc(AVAILABILITY_CALENDAR_BODY_UNITS_DOC)
  @example(AVAILABILITY_CALENDAR_BODY_UNITS_EXAMPLE)
  units?: AvailabilityUnit[];
  // capabilities
  ...AvailabilityCalendarPricingBody
}
